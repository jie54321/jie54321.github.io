<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>ğŸƒ ä¸‡åœ£èŠ‚ç¥ç¦å¼¹çª—</title>
    <style>
        /* èƒŒæ™¯æ ·å¼ï¼šæš—æ©™æ¸å˜ï¼Œè´´åˆå¤å¤ä¸»é¢˜ */
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #3d2314, #8b5a2b);
            overflow: hidden;
        }

        /* å¤å¤æš—æ©™å¼¹çª—ï¼šä»¿ç‰›çš®çº¸è´¨æ„Ÿ */
        .halloween-popup {
            background: linear-gradient(145deg, #e6a86e, #d48847);
            padding: 32px;
            border-radius: 16px;
            border: 3px solid #8b5a2b;
            box-shadow: 0 0 25px rgba(61, 35, 20, 0.7);
            font-family: "Georgia", serif; /* è¡¬çº¿å­—ä½“å¢å¼ºå¤å¤æ„Ÿ */
            text-align: center;
            max-width: 360px;
            position: relative;
            z-index: 10;
            /* ä»¿çº¸å¼ çº¹ç† */
            background-image: url("https://picsum.photos/id/106/1000/1000");
            background-blend-mode: overlay;
            background-size: cover;
        }

        /* å—ç“œç¯åŠ¨ç”»ï¼šè°ƒæ•´ä¸ºæš–é»„è‰²å…‰æ•ˆï¼Œæ›´æŸ”å’Œ */
        .pumpkin-lamp {
            width: 90px;
            height: 110px;
            margin: 0 auto 22px;
            position: relative;
            animation: pumpkinGlow 2.5s infinite alternate;
        }
        .pumpkin-body {
            width: 90px;
            height: 75px;
            background: #e67e22;
            border-radius: 50%;
            position: absolute;
            bottom: 0;
            border: 2px solid #d35400;
        }
        .pumpkin-face {
            position: absolute;
            top: 22px;
            left: 0;
            width: 100%;
        }
        .pumpkin-eye {
            width: 18px;
            height: 18px;
            background: #3d2314;
            border-radius: 40% 40% 0 0;
            display: inline-block;
            margin: 0 18px;
        }
        .pumpkin-mouth {
            width: 45px;
            height: 22px;
            border-bottom: 6px solid #3d2314;
            border-radius: 0 0 50% 50%;
            margin: 12px auto 0;
        }
        .pumpkin-stem {
            width: 18px;
            height: 35px;
            background: #27ae60;
            border-radius: 5px 5px 0 0;
            margin: 0 auto;
            border: 1px solid #1e8449;
        }
        /* æš–å…‰é—ªçƒåŠ¨ç”» */
        @keyframes pumpkinGlow {
            0% { box-shadow: 0 0 20px rgba(255, 241, 118, 0.9); }
            100% { box-shadow: 0 0 35px rgba(255, 224, 130, 1), 0 0 15px rgba(243, 156, 18, 0.9); }
        }

        /* æ–‡å­—æ ·å¼ï¼šå¤å¤æ£•è‰²è°ƒ */
        .popup-title {
            color: #5d4037;
            font-size: 28px;
            margin-bottom: 18px;
            text-shadow: 1px 1px 2px rgba(255,255,255,0.3);
            font-weight: bold;
        }
        .popup-content {
            color: #4e342e;
            font-size: 19px;
            line-height: 1.6;
            margin-bottom: 28px;
            text-shadow: 0.5px 0.5px 1px rgba(255,255,255,0.2);
        }

        /* æŒ‰é’®ï¼šå¤å¤æœ¨è´¨é£æ ¼ */
        .popup-btn {
            background: linear-gradient(145deg, #8b5a2b, #6d4c41);
            border: 2px solid #5d4037;
            color: #fff8e1;
            padding: 13px 28px;
            font-size: 18px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: "Georgia", serif;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        .popup-btn:hover {
            background: linear-gradient(145deg, #6d4c41, #5d4037);
            transform: scale(1.07);
            box-shadow: 0 0 12px rgba(255, 241, 118, 0.6);
        }

        /* è™è ï¼šè°ƒæ•´ä¸ºæ·±æ£•è‰²ï¼Œè´´åˆå¤å¤è‰²è°ƒ */
        .bat {
            position: absolute;
            width: 32px;
            height: 22px;
            background: #5d4037;
            border-radius: 50% 50% 0 0;
            animation: batFly linear infinite;
            opacity: 0.8;
            z-index: 1;
        }
        .bat:before, .bat:after {
            content: "";
            position: absolute;
            top: 6px;
            width: 28px;
            height: 18px;
            background: #5d4037;
            border-radius: 50%;
        }
        .bat:before { left: -22px; }
        .bat:after { right: -22px; }
        @keyframes batFly {
            0% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(320px, 160px) rotate(45deg); }
            50% { transform: translate(640px, 0) rotate(90deg); }
            75% { transform: translate(320px, -160px) rotate(135deg); }
            100% { transform: translate(0, 0) rotate(180deg); }
        }
    </style>
</head>
<body>
    <!-- æ›¿æ¢ä¸ºå—ç“œç¯æ¬¢å¿«éŸ³æ•ˆï¼ˆæ— ææ€–æ„Ÿï¼Œæ›´æ¸©é¦¨ï¼‰ -->
    <audio id="halloweenSound" loop preload="auto">
        <source src="https://cdn.pixabay.com/download/audio/2022/10/29/audio_80a00d169f.mp3?filename=happy-halloween-121566.mp3" type="audio/mpeg">
    </audio>

    <script>
        // ä¿ç•™20æ¡ç¥ç¦ï¼Œæ–°å¢2æ¡å¤å¤é£æ ¼ç¥ç¦
        const halloweenWishes = [
            "ğŸƒ å—ç“œç¯æš–å…‰æ™ƒï¼Œå¤å¤ä¸‡åœ£é€å‰ç¥¥ï¼Œæ„¿ä½ æ—¥å­ç”œåˆé•¿ï¼",
            "ğŸ‘» è™è ç»•çª—ç¿”ï¼Œæ—§æ—¶å…‰é‡Œè—å®‰åº·ï¼Œä¸‡åœ£èŠ‚å¿«ä¹å¿ƒæ•äº®ï½",
            "ğŸ•·ï¸ è››ä¸ç‰µç§‹å…‰ï¼Œå¤å¤ç¥ç¦æš–å¿ƒæˆ¿ï¼Œæ¯å¤©éƒ½æœ‰å¥½æ™¯è±¡ï¼",
            "ğŸ§Ÿ æœ¨ç‰Œåˆ»å‰ç¥¥ï¼Œå—ç“œç”œé¦™æ»¡åº­èŠ³ï¼Œå¥½è¿å¸¸ä¼´ä½ èº«æ—ï¼",
            "ğŸ¦‡ æ™šé£å¸¦ç§‹å‡‰ï¼Œä¸€ç›ç¯æš–ç…§å…å ‚ï¼Œä¸‡åœ£å¤œå–œä¹æœªå¤®ï¼",
            "ğŸ¬ ç³–çº¸è£¹ç”œé¦™ï¼Œæ—§å²å›å¿†æ…¢æ…¢å°ï¼Œå¹¸ç¦å²æœˆé•¿åˆé•¿ï¼",
            "ğŸŒ™ æœˆå…‰æ´’è¥¿çª—ï¼Œç¥ç¦è½»å£°å¯¹ä½ è®²ï¼Œä¸‡äº‹é¡ºé‚å¿ƒä¸æ…Œï¼",
            "ğŸ”® å¤é•œæ˜ å‰ç¥¥ï¼Œå¥½è¿æ‚„æ‚„æŠŠä½ è®¿ï¼Œç”Ÿæ´»å¤„å¤„æ˜¯æ™´æœ—ï¼",
            "ğŸ’€ æœ¨åˆ»éª·é«…æ ·ï¼Œç¬‘æŠŠçƒ¦æ¼å…¨èµ¶å…‰ï¼Œæ—¥å­è¿‡å¾—å–œæ´‹æ´‹ï¼",
            "ğŸ•¯ï¸ çƒ›ç«æ‘‡æ‘‡æ™ƒï¼Œæ¸©æš–å›´ç»•ä½ èº«æ—ï¼Œä¸‡åœ£èŠ‚é‡Œç¦æ»¡å ‚ï¼",
            "ğŸ§› æ—§ä¹¦è—ç§˜æ–¹ï¼Œå¥åº·å¹³å®‰å¤©å¤©äº«ï¼Œå¿«ä¹æ—¥å­ä¸‡å¹´é•¿ï¼",
            "ğŸ‚ è½å¶é“ºé˜¶ä¸Šï¼Œæ€å¿µåŒ–ä½œæš–å¿ƒæ±¤ï¼Œç¥ä½ å¦‚æ„åˆå®‰åº·ï½",
            "ğŸ­ å¸ƒå¶é¢å…·è£…ï¼Œç«¥å¹´æ¬¢ç¬‘å¿ƒä¸­è—ï¼Œæ¯å¤©éƒ½æœ‰æ–°å¸Œæœ›ï¼",
            "âœ¨ æ²¹ç¯é—ªå¾®å…‰ï¼Œç¥ç¦å†™æ»¡æ—§çº¸å¼ ï¼Œæ„¿ä½ å¼€å¿ƒå¸¸ç›¸ä¼´ï¼",
            "ğŸª æ—§å¹•æ‹‰å¼€åœºï¼Œå¿«ä¹æ­Œå£°å“å››æ–¹ï¼Œå¹¸ç¦å‘ä½ æ•èƒ¸è†›ï¼",
            "ğŸ‘¹ é™¶å¶å’§å˜´ç¬‘ï¼Œå«èµ°æ‰€æœ‰çš„çƒ¦æ¼ï¼Œç•™ä¸‹å¿«ä¹æ²¡å¥å·ï¼",
            "ğŸ§™ è‰è¯é¦™è¢…è¢…ï¼Œå¥³å·«é€ç¦ä¸Šé—¨æ¢¢ï¼Œä¸‡åœ£èŠ‚é‡Œä¹æ·˜æ·˜ï¼",
            "ğŸ’€ æœ¨é“ƒè½»è½»æ‘‡ï¼Œæ•²å‡ºå¹³å®‰å’Œæ¬¢ç¬‘ï¼Œç”Ÿæ´»è¶Šæ¥è¶Šç¾å¦™ï¼",
            "ğŸƒ å—ç“œåˆ»å‰ç¥¥ï¼Œç¥ä½ è´¢è¿æ»šæ»šæ·Œï¼Œæ—¥å­è¶Šè¿‡è¶Šå…´æ—ºï¼",
            "ğŸ‘» æ—§å··é£˜æ¡‚é¦™ï¼Œç¥ç¦éšé£å¹ä½ æ—ï¼Œä¸‡åœ£èŠ‚å¿«ä¹è®°å¿ƒä¸Šï¼"
        ];

        window.onload = function() {
            const sound = document.getElementById('halloweenSound');
            // è™è æ•°é‡è°ƒæ•´ä¸º2-4åªï¼Œæ›´æ˜¾å¤å¤é™è°§æ„Ÿ
            createBats(Math.floor(Math.random() * 3) + 2);
            createHalloweenPopup();

            // é¦–æ¬¡ç‚¹å‡»è§¦å‘éŸ³æ•ˆ
            document.addEventListener('click', function() {
                sound.play().catch(err => {
                    setTimeout(() => sound.play(), 300);
                });
            }, { once: true });
        };

        // åˆ›å»ºå¤å¤è‰²è°ƒè™è 
        function createBats(count) {
            for (let i = 0; i < count; i++) {
                const bat = document.createElement('div');
                bat.className = 'bat';
                bat.style.left = `${Math.random() * 100}vw`;
                bat.style.top = `${Math.random() * 100}vh`;
                bat.style.animationDuration = `${Math.random() * 25 + 20}s`; // é£è¡Œæ›´æ…¢ï¼Œæ›´æ˜¾æ‚ é—²
                bat.style.animationDelay = `${Math.random() * 6}s`;
                document.body.appendChild(bat);
            }
        }

        // ç¥ç¦å»é‡é€»è¾‘ä¸å˜
        let usedWishes = [];
        function getRandomWish() {
            if (usedWishes.length === halloweenWishes.length) {
                usedWishes = [];
            }
            const availableWishes = halloweenWishes.filter(wish => !usedWishes.includes(wish));
            const randomIndex = Math.floor(Math.random() * availableWishes.length);
            const selectedWish = availableWishes[randomIndex];
            usedWishes.push(selectedWish);
            return selectedWish;
        }

        // å¼¹çª—ç”Ÿæˆé€»è¾‘ä¸å˜ï¼Œé£æ ¼éšCSSåŒæ­¥æ›´æ–°
        function createHalloweenPopup() {
            const oldPopup = document.querySelector('.halloween-popup');
            if (oldPopup) oldPopup.remove();

            const popup = document.createElement('div');
            popup.className = 'halloween-popup';
            popup.innerHTML = `
                <div class="pumpkin-lamp">
                    <div class="pumpkin-stem"></div>
                    <div class="pumpkin-body"></div>
                    <div class="pumpkin-face">
                        <div class="pumpkin-eye"></div>
                        <div class="pumpkin-eye"></div>
                        <div class="pumpkin-mouth"></div>
                    </div>
                </div>
                <div class="popup-title">ä¸‡åœ£å¤å¤ç¥ç¦</div>
                <div class="popup-content">${getRandomWish()}</div>
                <button class="popup-btn" onclick="closeAndCreateNew()">å†æ”¶ç¥ç¦</button>
            `;
            document.body.appendChild(popup);
        }

        function closeAndCreateNew() {
            setTimeout(createHalloweenPopup, 1200); // é—´éš”å¾®è°ƒä¸º1.2ç§’ï¼Œæ›´æ˜¾ä»å®¹
        }
    </script>
</body>
</html>
